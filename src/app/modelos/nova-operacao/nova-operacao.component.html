<div class="col-md-6 col-md-offset-6" style="float:left;">
  <form>
    <div class="form-group">
      <!-- Name field -->
      <label class="control-label " for="name">Nº da OF (Ordem de Fabrico)</label>
      <div class="input-group">
        <div class="icon-addon " style="width: 100%;">
          <input type="text" (keyup.enter)="pesquisaof()" #inputFocous class="form-control {{input_class}}" [(ngModel)]="num_of" #of (ngModelChange)="num_of=of.value"
            [ngModelOptions]="{standalone: true}" style="width: 100%; border-top-right-radius: 0px; border-bottom-right-radius: 0px">
        </div>
        <span class="input-group-btn">
          <button (click)="pesquisaof()" class="btn {{bt_class}}" type="button" style="line-height: 0;"><i *ngIf="refresh" class="fa fa-refresh"></i>
          <i *ngIf="spinner" class="fa fa-refresh fa-spin fa-1x fa-fw"></i>
          <span  class="sr-only">Loading...</span></button>

        </span>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label requiredField" style="width: 100%; " for="email">Operação</label>
      <p-dropdown [disabled]="readonly_op" [(ngModel)]="selected" [ngModelOptions]="{standalone: true}" #op (onChange)="carregamaquinas(op.value)"
        [options]="operacao" [style]="{'width':'80%'}"></p-dropdown>
      <button type="button" [disabled]="readonly_op" class="btn btn-success btn-number" style="margin-left:10px" (click)="togglestates()">
          <i class="icon-plus"></i>
      </button>
    </div>

    <div class="form-group">
      <label class="control-label " for="subject">Máquina</label>
      <p-dropdown [options]="maquina" [(ngModel)]="selectedmaq" [ngModelOptions]="{standalone: true}" [disabled]="readonly_maq" [style]="{'width':'100%'}"></p-dropdown>
    </div>

    <div class="form-group">
      <label class="control-label " for="message">Observações</label>
      <textarea class="form-control" cols="40" id="message" name="message" rows="5" readonly>{{observacoes}}</textarea>
    </div>
  </form>
</div>


<div class="col-md-6 col-md-offset-8" style="float:left;">


  <p-dataTable [value]="referencias" selectionMode="single" [(selection)]="selectedCar2" (onRowSelect)="onRowSelect($event)"
    (onRowUnselect)="onRowUnselect(t)" dataKey="codigo" scrollable="true" scrollHeight="600px" [responsive]="true" [rows]="10" >
    <p-header>REFERÊNCIA</p-header>
    <p-column field="codigo" header="Código" [sortable]="true"></p-column>
    <p-column field="design" header="Designação"></p-column>
  </p-dataTable>
</div>
<div class="col-md-12 col-md-offset-12" style="float:left; text-align: center;">
  <button class="bt-cancelar" pButton type="button" routerLink="/home" label="CANCELAR/SAIR" style="float:none;"></button>
  <button class=" bt-cancelar" pButton type="button" (click)="iniciartrab()" label="INICIAR TRABALHO" style="float:none;"></button>
  <button class=" bt-cancelar" pButton type="button" [hidden]="displaybtref" (click)="seleciona1ref()" label="SELECIONAR SÓ 1 REFERÊNCIA" style="float:none;"></button>
</div>

<div id="adicionaop">
  <div class="list-group adicionaop" [@movementtrigger]="state" style="display:none;" (clickOutside)="ontogglestates()">
    <div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none">
      <i class="fa fa-search" style="margin:4px 4px 0 0; float: left; font-size: 33px;"></i>
      <input #gb type="text" pInputText size="50" placeholder="Pesquisar" class="form-control" style="width: 90%;">
    </div>
    <p-dataTable [value]="novaopera" selectionMode="single"  (onRowSelect)="onRowSelect3($event)"
      [globalFilter]="gb" #dt dataKey="codigoop" scrollable="true" scrollHeight="400px" [responsive]="true" [rows]="10" >
      <p-header>Operações</p-header>
      <p-column field="codigoop" header="Código" [sortable]="true"></p-column>
      <p-column field="design" header="Designação"></p-column>
    </p-dataTable>

  </div>

</div>




<p-dialog header="Operações" [(visible)]="display2" modal="modal" width="500" [responsive]="true" [dismissableMask]="true"
  [dismissableMask]="true" [draggable]="false">
  <div style="text-align:center;">
    <p>
      Escolheu a Referência:
      <small>  {{message}} - Designação</small>. </p>
    <p>
      Qual o Serviço que vai iniciar?
    </p>
  </div>
  <p-footer>
    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" style="text-align: center;">
      <button type="button" pButton (click)="cancelar()" label="PREPARAÇÃO" style="float: none;"></button>
      <button type="button" pButton (click)="cancelar()" label="EXECUÇÃO" style="float: none;"></button>
      <button type="button" pButton (click)="cancelar()" label="CANCELAR" style="float: none;"></button>
    </div>
  </p-footer>
</p-dialog>


<p-dialog header="Operações" [(visible)]="display3" modal="modal" width="500" [responsive]="true" [dismissableMask]="true"
  [dismissableMask]="true" [draggable]="false">
  <div style="text-align:center;">
    <p>
    <p>
      Qual o Serviço que vai iniciar?
    </p>
  </div>
  <p-footer>
    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" style="text-align: center;">
      <button type="button" pButton (click)="cancelarinic()" label="PREPARAÇÃO" style="float: none;"></button>
      <button type="button" pButton (click)="cancelarinic()" label="EXECUÇÃO" style="float: none;"></button>
      <button type="button" pButton (click)="cancelarinic()" label="CANCELAR" style="float: none;"></button>
    </div>
  </p-footer>
</p-dialog>